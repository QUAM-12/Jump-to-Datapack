# 03-4-1 엔티티 상태의 종류

<br/>

# type

| 확인: 이 엔티티의 유형이 지정된 값과 일치하는지 검사합니다.
| 작성: 한 개 이상의 유형을 지정합니다.

```json
"minecraft:player" - 플레이어만

"#minecraft:arrows" - 화살들만

["minecraft:player", "#minecraft:arrows"] - 플레이어와 화살들만


{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "type": "minecraft:husk"
   }
}
```

---

<br/>

# components

| 확인: 데이터가 정확하게 맞는지 검사합니다.
| 작성: [[Data-Component](https://minecraft.wiki/w/Data_component_format)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "type": "minecraft:husk",
      "components": {
         "minecraft:custom_data": "{entity:1b}"
      }
   }
}
```

---

<br/>

# predicates

| 확인: 데이터가 맞는지 검사합니다.
| 작성: [[Data-Component-Predicate](https://minecraft.wiki/w/Data_component_predicate)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "type": "minecraft:husk",
      "predicates": {
         "minecraft:custom_data": "{entity:1b, mob:1b}"
      }
   }
}
```

---

<br/>

# team

| 확인: 해당 팀에 있는지 확인합니다.
| 작성: 한 개의 팀 이름을 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "team": "test"
   }
}
```

---

<br/>

# nbt

| 확인: 해당 `nbt`가 맞는지 확인합니다.
| 작성: 한 개 이상의 `nbt`를 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "nbt": "{OnGround:1b}"
   }
}
```

---

<br/>

# effects

| 확인: 해당 `effect`(효과)를 가지고 있는지 확인합니다.
| 작성: 한 개 이상의 `effect`를 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "effects": {
         "minecraft:absorption": {
            "duration": {
               "max": -1
            }
         }
      }
   }
}
```

---

<br/>

# periodic_tick

| 확인: 엔티티의 살아 있는지 `n`틱마다 확인합니다.
| 작성: int 형식의 `n` 틱을 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "periodic_tick": 2
   }
}
```

모든 엔티티는 `0.05`초마다 `tickCount` 변수에 1씩 더해집니다.
이때 `periodic_tick`은 다음과 같이 계산됩니다.

```javascript
entity.tickCount % this.periodicTick.get() != 0
```

---

<br/>

# targeted_entity

| 확인: 해당 엔티티가 누구를 공격 대상으로 선택하는지 확인합니다.
| 작성: 한 개의 [[03-4-1 entity_properties](03-4-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "targeted_entity": {
         "type": "minecraft:player",
         "flags": {
            "is_sneaking": true
         }
      }
   }
}
```

---

<br/>

# location

| 확인: 해당 위치 정보가 맞는지 확인합니다.
| 작성: [[03-6-1 locations](03-6-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "location": {
         "biomes": "minecraft:plains",
         "light": {
            "light": 15
         }
      }
   }
}
```

---

<br/>

# stepping_on

| 확인: 발 밑의 위치 정보를 확인합니다.
| 작성: [[03-6-1 locations](03-6-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "stepping_on": {
         "block": {
            "blocks": "minecraft:red_concrete"
         }
      }
   }
}
```

---

<br/>

# movement_affected_by

| 확인: y - 0.5 위치의 블록을 확인합니다.
| 작성: [[03-6-1 locations](03-6-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "movement_affected_by": {
         "block": {
            "blocks": "minecraft:lime_concrete"
         }
      }
   }
}
```

---

<br/>

# distance

| 확인: 좌표 정보를 확인합니다.
| 작성: 한 개 이상의 좌표 정보를 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "distance": {
         "absolute": {
            "max": 2
         }
      }
   }
}
```

선택자의 `d/xyz=`와 비슷하게 작동합니다.
소수점까지 거리가 적용됩니다.

O: `1.123 -> 1.123`
X: `1.123 -> 1`

`absolute`는 3차원(x, y, z)의 거리 계산을
`horizontal`은 2차원(x, z)의 거리를 계산합니다.

---

<br/>

# movement

| 확인: 엔티티의 움직임 정보를 확인합니다.
| 작성: 한 개 이상의 움직임 정보를 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "movement": {
         "horizontal_speed": {
            "min": 1
         },
         "vertical_speed": {
            "min": 1
         }
      }
   }
}
```

---

<br/>

# flags

| 확인: 나열된 항목들과 현재 상태를 비교합니다.
| 작성: 한 개 이상의 항목을 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "flags": {
         "is_on_fire": true,
         "is_sneaking": true
      }
   }
}
```

---

<br/>

# equipment

| 확인: 나열된 슬롯을 기준으로 무슨 장비를 착용하고 있는지 확인합니다.
| 작성: 한 개 이상의 슬롯과 아이템을 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "equipment": {
         "mainhand": {
         "items": "snowball",
         "predicates": {
            "minecraft:custom_data": "{projectile:1b}"
         }
         }
      }
   }
}
```

---

<br/>

# slots

| 확인: 설정한 슬롯 중에 아이템이 있는지 확인합니다.
| 작성: 한 개 이상의 슬롯과 아이템을 작성합니다.

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "slots": {
         "container.*": {
            "items": "minecraft:diamond",
            "predicates": {
               "minecraft:custom_data": "{treasure:1b}"
            }
         }
      }
   }
}
```

---

<br/>

# vehicle

| 확인: 무엇을 탑승 중인지 확인합니다.
| 작성: 한 개의 [[03-4-1 entity_properties](03-4-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "vehicle": {
         "type": "minecraft:strider",
         "flags": {
            "is_on_ground": true
         }
      }
   }
}
```

---

<br/>

# passenger

| 확인: 무엇을 탑승 중인지 확인합니다.
| 작성: 한 개의 [[03-4-1 entity_properties](03-4-1)]

```json
{
   "condition": "minecraft:entity_properties",
   "entity": "this",
   "predicate": {
      "passenger": {
         "type": "minecraft:strider",
         "passenger": {
            "type": "minecraft:strider"
         }
      }
   }
}
```