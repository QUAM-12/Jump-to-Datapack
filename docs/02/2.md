# 02-2 함수의 load와 tick

[[02-1 데이터 팩의 특징](/docs/02/1.md)] 페이지에서 함수를 적용하고 `Hello, Datapack!`까지 출력했습니다.

여기서 함수를 적용하기 위해, `/reload` 명령어를 사용하고 → `test:a` 함수를 직접 실행했습니다.

하지만, `/reload` 명령어만 입력하면 자동으로 `test:a` 함수가 실행되게는 할 수 없을까요?

이는 변수의 초기값 설정과 맵 초기화에 유용하게 쓰일 것입니다.

<br/>

이때, 데이터 팩의 `tags` 기능을 사용할 수 있습니다.

`tags` 폴더는 비슷한 성격의 블록(`blocks`), 개체 유형(`entity type`),
대미지 유형, 바이옴 등을 묶어 놓은 것으로 실제 인게임에서는 `#`으로 시작합니다.

예를 들어, 개체 유형의 경우 선택자(`@e`, `@a` 등)에서 확인할 수 있습니다.

```mcfunction
@e[type=#minecraft:zombies]

minecraft:zombies [
   "좀비 말", "좀비", "좀비 주민", "좀비화 피글린", "조글린", "드라운드", "허스크"
]
```

<br/>

그리고 위에서 언급한 요소 이외에도 함수 폴더가 있는데,
함수 폴더 안에는 사용할 수 있는 `.json` 파일이 2개 있습니다.

`load.json`, `tick.json`가 그것으로 이 파일은 무조건 `minecraft` 폴더에 있어야 합니다.

<br/>

# load.json

---

`load.json`은 `/reload`나 세계를 재입장 할 때 발생하는 함수 이벤트로
다른 어떤 함수 이벤트보다도 먼저 실행됩니다.

최초 1번 실행되므로 주로 초기값 설정에 사용됩니다.

`load.json`은 아래와 같이 작성합니다.

```json
{"replace": false, "values": ["/function을 제외한 함수의 경로"]}

test:a의 경우
   {"replace": false, "values": ["test:a"]}
```

   <video width="640" height="360" controls>
      <source src="assets/vid/02-2/load_json.mp4" type="video/mp4">
   </video>   

이제 인게임에서 `/reload`를 입력하면 자동으로 함수가 실행됩니다.

   <video width="640" height="360" controls>
      <source src="assets/vid/02-2/reload.mp4" type="video/mp4">
   </video>   

<br/>

# tick.json

---

`tick.json`은 매 틱마다 발생하는 함수 이벤트로 `/tick freeze` 시 멈춥니다.

`tick.json`은 아래와 같이 작성합니다.

```json
{"replace": false, "values": ["/function을 제외한 함수의 경로"]}

test:a의 경우
   {"replace": false, "values": ["test:a"]}
```

<video width="640" height="360" controls>
      <source src="assets/vid/02-2/tick_json.mp4" type="video/mp4">
   </video> 

이제 인게임에서 `/reload`를 입력하면 `0.05`초마다 함수가 실행됩니다.

   <video width="640" height="360" controls>
      <source src="assets/vid/02-2/tick.mp4" type="video/mp4">
   </video> 