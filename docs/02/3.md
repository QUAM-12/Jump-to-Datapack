# 02-3 함수의 반환

반환(`return`)은 다른 프로그래밍 언어에서 함수 또는 메서드를 종료하고,
결과값을 호출한 쪽으로 돌려주는 명령어입니다.

- java

   ```java
   int add(int a, int b) {
      return a + b;
   }

   int result = add(3, 5);
   System.out.println(result);

   >>> 8
   ```

<br/>

우선 마인크래프트에서 `/return`은 함수에서 `/return` 다음 줄의 명령어를 실행하기 전에 종료하거나,
여러 분기의 명령어의 경우 실행 종료를 시도하여 한 번만 작동할 수 있도록 합니다.

또한, `/return`에 올 수 있는 값은 모두 정수입니다.

- 정수형 상수의 반환

   ```mcfunction
   say 1
   return 1 -> 이후 명령어를 실행하지 않음

   say 2 -> 실행하지 않음
   say 3 -> 실행하지 않음

   >>> 1
   >>> 함수가 1을(를) 반환했습니다.
   ```

   ```mcfunction
   say 1
   return run say end -> 이후 명령어를 실행하지 않음

   say 2 -> 실행하지 않음
   say 3 -> 실행하지 않음

   >>> 1
   >>> end
   >>> 함수가 1을(를) 반환했습니다.
   ```

   ```mcfunction
   say 1
   return fail -> fail은 0과 같습니다

   say 2 -> 실행하지 않음
   say 3 -> 실행하지 않음

   >>> 1
   >>> 함수가 0을(를) 반환했습니다.
   ```

- 명령어 실행의 반환

   ```mcfunction
   say 1
   return run execute if entity @e[tag=a] -> a 태그를 가진 엔티티가 없으면 이후 명령어를 실행하지 않음

   say 2
   say 3

   >>> 1
   >>> 함수가 <태그를 가진 엔티티의 수>을(를) 반환했습니다.
   ```

   ```mcfunction
   say 1
   return run particle flame 0 0 0 0 0 0 0 0 force -> 입자를 아무도 관측하지 못했으면 이후 명령어를 실행하지 않음

   say 2
   say 3

   >>> 1
   >>> 함수가 <입자를 관측한 플레이어의 수>을(를) 반환했습니다.
   ```

- 여러 분기 명령어의 종료

   ```mcfunction
   execute as @e[type=husk, sort=nearest] at @s if block ~ ~-1 ~ minecraft:red_concrete run return run tp @s @p

   >>> 가까운 허스크 순으로 아래 블록이 빨간색 콘크리트인지 확인하고
      그 하나의 허스크만 가장 가까운 플레이어에게 순간이동 합니다.
   ```

<br/>

함수 전체를 종료하지 않고 `return` 명령어가 작성된 이후 줄만 종료합니다.

따라서, 동일한 함수에 여러 조건을 적용해야 할 때 사용할 수 있습니다.

```mcfunction
test:a
   execute if block ~ ~-1 ~ minecraft:air run return 0
   execute if entity @s[tag=!a] run return 0

   say 블록을 밟고 있으면서 태그가 a입니다.

>>> 블록을 밟고 있으면서 태그가 a입니다.
```

   <video width="640" height="360" controls>
      <source src="assets/vid/02-3/return.mp4" type="video/mp4">
   </video> 

그리고 `execute store`를 이용해 반환값을 저장할 수 있습니다.

```mcfunction
test:a
   return run random value 0..10
```

   <video width="640" height="360" controls>
      <source src="assets/vid/02-3/store_return.mp4" type="video/mp4">
   </video> 