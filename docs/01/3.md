# 01-3 데이터 팩 만들기

<br/>

## Visual Studio Code 준비하기
Visual Studio Code는 `Python`, `Java`, `C/C++` 등의 코드를 편집하는 도구로 사용되지만,
확장 기능을 이용하면 데이터 팩을 제작하고 관리할 수 있습니다.

- [[Visual Studio Code](https://code.visualstudio.com/)]

다운로드를 완료하면 프로그램을 실행합니다.
언어를 한국어로 설정하기 위해 단축키를 입력합니다.

- Windows: `Ctrl + Shift + X`
- macOS: `Cmd + Shift + X`

<br/>

그럼 상단에 `EXTENSIONS`이 표시된 창으로 이동하는데, 여기서 다음 확장을 검색해서 다운로드 할 것입니다.

- [[Korean Language Pack for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ko)]

   ![korean_exten.png](assets/img/extension/korean_exten.png)

- [[Datapack Helper Plus by Spyglass](https://marketplace.visualstudio.com/items?itemName=SPGoding.datapack-language-server)]

   ![spyglass_exten.png](assets/img/extension/spyglass_exten.png)

- [[MC Datapack](https://marketplace.visualstudio.com/items?itemName=HuJohner.mc-datapack)]

   ![mc_datapack_exten.png](assets/img/extension/mc_datapack_exten.png)

<br/>

확장을 모두 다운로드 했으면 프로그램을 종료했다가, 다시 실행합니다.

언어가 한국어로 바뀌었다면, 확장이 성공적으로 적용된 것입니다.

<br/>

# 마인크래프트에서

---

마인크래프트 버전이 `1.21.6` 이상이라면
`/datapack create` 명령어로 기본 데이터 팩을 생성할 수 있습니다.

`test` 이름의 데이터 팩을 생성해 보겠습니다.

```mcfunction
datapack create test test

>>> 이름이 'test'인 비어 있는 팩을 생성했습니다
```

`/datapack list` 명령어를 입력하면,

- 사용 가능한 데이터 팩이 1개 있습니다: <span style="color: #FF5555">[</span><span style="color: #777777">file/test (세계)</span><span style="color: #FF5555">]</span>

라고 표시되는데 이는 `/reload` 명령어를 이용해 생성한 데이터 팩을 사용하도록 전환할 수 있습니다.

- 켜진 데이터 팩이 2개 있습니다: <span style="color: #55FF55">[</span><span style="color: #777777">vanilla (내장)</span><span style="color: #55FF55">]</span><span style="color: #777777">, <span style="color: #55FF55">[</span><span style="color: #777777">file/test</span><span style="color: #55FF55">]</span>

<br/>

# 폴더에서

---

먼저 데이터 팩을 만들 세계의 폴더에 접근해야 합니다.

현재 세계를 저장하고 나간 뒤, 편집을 클릭하면 세계 폴더 열기라는 항목이 표시됩니다.

   ![map_folder.png](assets/img/map_folder.png)

다음 `datapacks` 폴더로 이동하여 생성한 `test` 데이터 팩을 관찰할 수 있습니다.

새 데이터 팩을 생성하기 위해서는 폴더가 하나 필요합니다.

   <video width="640" height="360" controls>
     <source src="assets/vid/01-3/new_folder.mp4" type="video/mp4">
   </video>

조금 더 나은 폴더/파일 생성 및 제거를 위해 Visual Studio Code로 불러오도록 하겠습니다.

   <video width="640" height="360" controls>
     <source src="assets/vid/01-3/folder_to_visual.mp4" type="video/mp4">
   </video>

<br/>

# data

---

모든 사용 가능한 항목은 `data` 내의 폴더로 관리됩니다.

Visual Studio Code 화면에서 `data` 이름으로 된 새 폴더를 생성합니다.

마인크래프트 기존 경로는 `data/minecraft`입니다. 이것과 구분하기 위해 `test`로 된 폴더를 생성하겠습니다.

<br/>

# pack.mcmeta

---

`pack.mcmeta`는 일반적인 폴더 혹은 `.zip` 파일이 마인크래프트
인게임에서 사용 가능한 데이터 팩으로 식별되게 하는 기능을 지니고 있습니다.

Visual Studio Code 확장(`Spyglass`)과 연결하기 위해서는 
마인크래프트 버전에 맞는 포맷을 작성해야 합니다.

- 버전에 맞는 포맷은 [[Pack_Format](https://minecraft.wiki/w/Pack_format)] 이곳에서 확인할 수 있습니다.

새 `pack.mcmeta` 파일을 만들 수 있지만, 조금 더 쉽게 제작할 수 있는 도구가 있습니다.

- 더 편한 생성(웹 사이트)

   이 `pack.mcmeta`를 편리하게 만들어 주는 온라인 도구가 있습니다.
   
   - [[pack-mcmeta](https://misode.github.io/pack-mcmeta)]
   
   우측 상단에 초록색으로 표시된 `switch version`을 클릭해서 버전을 변경할 수 있고,
   
   우측 하단 실제 코드가 있는 곳에 `Copy`를 눌러 내용을 복사할 수 있습니다.
   
   <video width="640" height="360" controls>
     <source src="assets/vid/01-3/pack_mcmeta.mp4" type="video/mp4">
   </video>
   
   현재까지 추가한 것을 토대로 Visual Studio Code에서는 이렇게 표시되어야 합니다.
   
   ```json
   ᐯ test2
   ᐯ data
      ᐯ test
      pack.mcmeta
   
   pack.mcmeta = {"pack": {"description": "test", "pack_format": 81}}
   ```
   
   예를 들어, 아래처럼 표시된다면 동영상을 참고하여 설정을 변경하십시오.
   
   ```json
   ᐯ test2
   ᐯ data / test
      pack.mcmeta
   
   pack.mcmeta = {"pack": {"description": "test", "pack_format": 81}}
   ```

   <video width="640" height="360" controls>
      <source src="assets/vid/01-3/visual_setting.mp4" type="video/mp4">
   </video>   

<br/>

# <span style="color: #777777; font-style: italic;">@Deprecated</span>

## Visual Studio Code 확장에서

---

- [[MC Datapack](https://marketplace.visualstudio.com/items?itemName=HuJohner.mc-datapack)] 확장을 바탕으로 데이터 팩 전체를 생성할 수 있습니다.
   
   다만, 폴더의 이름이 최신 버전에 맞게 바뀌지는 않으므로 데이터 팩 생성 시에는 지양하십시오.
   
   `functions` → `function`처럼 폴더의 이름을 수정하여 고칠 수는 있습니다.
   

우선 아래 단축키로 현재 열린 폴더를 닫습니다.

- Windows: `Ctrl + K -> F`
- macOS: `Cmd + K -> F`

이번에는 `test2` 폴더 만 가지고 오는 것과 달리 `datapacks` 폴더 전체를 불러옵니다.

   <video width="640" height="360" controls>
      <source src="assets/vid/01-3/datapacks_move.mp4" type="video/mp4">
   </video>   

그리고 데이터 팩을 생성합니다.

   <video width="640" height="360" controls>
      <source src="assets/vid/01-3/extensions.mp4" type="video/mp4">
   </video>   